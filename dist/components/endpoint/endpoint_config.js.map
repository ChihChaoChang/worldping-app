{"version":3,"sources":["../../../src/components/endpoint/endpoint_config.js"],"names":[],"mappings":";;;;;;;;;;;;;AAAO;;;;;;;;;;;;;;;;;;;;;oCAED;;;AAEJ,iBAFI,kBAEJ,CAAY,MAAZ,EAAoB,SAApB,EAA+B,SAA/B,EAA0C,MAA1C,EAAkD,aAAlD,EAAiE,QAAjE,EAA2E,OAA3E,EAAoF,UAApF,EAAgG,QAAhG,EAA0G;gCAFtG,oBAEsG;;AACxG,cAAI,OAAO,IAAP,CADoG;AAExG,eAAK,UAAL,GAAkB,UAAlB,CAFwG;AAGxG,eAAK,SAAL,GAAiB,SAAjB,CAHwG;AAIxG,eAAK,QAAL,GAAgB,QAAhB,CAJwG;AAKxG,eAAK,SAAL,GAAiB,KAAjB,CALwG;;AAOxG,eAAK,gBAAL,GAAwB,EAAxB,CAPwG;;AASxG,eAAK,aAAL,GAAqB,EAArB,CATwG;AAUxG,cAAI,UAAU,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb,CAAV,CAVoG;AAWxG,YAAE,OAAF,CAAU,OAAV,EAAmB,UAAS,CAAT,EAAY;AAC7B,iBAAK,aAAL,CAAmB,IAAnB,CAAwB,EAAC,OAAO,CAAP,EAAU,OAAO,WAAS,CAAT,GAAW,GAAX,EAA1C,EAD6B;WAAZ,CAAnB,CAXwG;;AAexG,eAAK,YAAL,GAAoB,qBAApB,CAfwG;AAgBxG,eAAK,MAAL,GAAc,EAAC,OAAO,CAAP,EAAf,CAhBwG;AAiBxG,eAAK,eAAL,GAAuB,EAAvB,CAjBwG;AAkBxG,eAAK,SAAL,GAAiB,EAAjB,CAlBwG;AAmBxG,eAAK,QAAL,GAAgB,EAAhB,CAnBwG;AAoBxG,eAAK,aAAL,GAAqB,EAArB,CApBwG;AAqBxG,eAAK,qBAAL,GAA6B,EAA7B,CArBwG;AAsBxG,eAAK,aAAL,GAAqB,EAArB,CAtBwG;AAuBxG,eAAK,gBAAL,GAAwB,EAAC,WAAW,KAAX,EAAzB,CAvBwG;AAwBxG,eAAK,eAAL,GAAuB,EAAvB,CAxBwG;AAyBxG,eAAK,iBAAL,GAAyB,EAAC,eAAe,EAAf,EAAmB,gBAAgB,EAAhB,EAA7C,CAzBwG;AA0BxG,eAAK,aAAL,GAAqB,KAArB,CA1BwG;AA2BxG,eAAK,aAAL,GAAqB,EAArB,CA3BwG;;AA6BxG,cAAI,WAAW,EAAX,CA7BoG;AA8BxG,cAAI,cAAc,UAAU,MAAV,EAAd,EAAkC;AACpC,qBAAS,IAAT,CAAc,KAAK,YAAL,GAAoB,IAApB,CAAyB,YAAW;AAChD,qBAAO,KAAK,WAAL,CAAiB,UAAU,MAAV,GAAmB,QAAnB,CAAxB,CADgD;aAAX,CAAvC,EADoC;WAAtC,MAIO;AACL,iBAAK,QAAL,GAAgB,EAAC,MAAM,EAAN,EAAjB,CADK;WAJP;;AAQA,eAAK,MAAL,GAAc,EAAd,CAtCwG;;AAwCxG,mBAAS,IAAT,CAAc,KAAK,aAAL,EAAd,EAxCwG;AAyCxG,mBAAS,IAAT,CAAc,KAAK,eAAL,EAAd,EAzCwG;AA0CxG,kBAAQ,GAAR,CAAY,QAAZ,EAAsB,IAAtB,CAA2B,YAAW;AACpC,iBAAK,SAAL,GAAiB,IAAjB,CADoC;AAEpC,iBAAK,KAAL,GAFoC;AAGpC,qBAAS,YAAW;AAClB,8BADkB;aAAX,EAEN,CAFH,EAEM,KAFN,EAHoC;WAAX,CAA3B,CA1CwG;;AAkDxG,cAAI,UAAU,MAAV,GAAmB,KAAnB,EAA0B;AAC5B,oBAAO,UAAU,MAAV,GAAmB,KAAnB;AACP,mBAAK,MAAL;AACE,qBAAK,QAAL,GAAgB,IAAhB,CADF;AAEE,sBAFF;AADA,mBAIK,KAAL;AACE,qBAAK,OAAL,GAAe,IAAf,CADF;AAEE,sBAFF;AAJA,mBAOK,MAAL;AACE,qBAAK,QAAL,GAAgB,IAAhB,CADF;AAEE,sBAFF;AAPA,mBAUK,OAAL;AACE,qBAAK,SAAL,GAAiB,IAAjB,CADF;AAEE,sBAFF;AAVA,aAD4B;WAA9B;;AAiBA,kBAAQ,cAAR,GAAyB,YAAW;AAClC,gBAAI,KAAK,aAAL,EAAoB;AAAE,qBAAF;aAAxB;AACA,gBAAI,KAAK,cAAL,EAAJ,EAA2B;AACzB,qBAAO,6CAAP,CADyB;aAA3B;WAFuB,CAnE+E;;AA0ExG,iBAAO,GAAP,CAAW,sBAAX,EAAmC,UAAS,KAAT,EAAgB,IAAhB,EAAsB;AACvD,gBAAI,CAAE,KAAK,aAAL,IAAwB,KAAK,cAAL,EAA1B,EAAkD;AACpD,oBAAM,cAAN,GADoD;AAEpD,kBAAI,UAAU,UAAU,MAAV,GAAmB,MAAnB,GAA4B,UAAU,GAAV,GAAgB,MAAhB,CAFU;AAGpD,kBAAI,UAAU,KAAK,SAAL,CAAe,OAAf,CAAV,CAHgD;AAIpD,kBAAI,aAAa,OAAO,IAAP,EAAb,CAJgD;AAKpD,yBAAW,MAAX,GAAoB,YAAW;AAC7B,qBAAK,aAAL,GAAqB,IAArB,CAD6B;AAE7B,0BAAU,IAAV,CAAe,OAAf,EAF6B;AAG7B,uBAH6B;eAAX,CALgC;;AAWpD,yBAAW,IAAX,GAAkB,YAAW;AAC3B,qBAAK,IAAL,CAAU,OAAV,EAD2B;eAAX,CAXkC;;AAepD,kBAAI,eAAe,OAAO;AACxB,0BAAU,qCAAV;AACA,4BAAY,+BAAZ;AACA,yBAAS,KAAT;AACA,sBAAM,KAAN;AACA,uBAAO,UAAP;AACA,0BAAU,KAAV;eANiB,CAAf,CAfgD;;AAwBpD,sBAAQ,OAAR,CAAgB,YAAhB,EAA8B,IAA9B,CAAmC,UAAS,OAAT,EAAkB;AACnD,wBAAQ,KAAR,CAAc,MAAd,EADmD;eAAlB,CAAnC,CAxBoD;aAAtD;WADiC,CAAnC,CA1EwG;SAA1G;;qBAFI;;0CA4GY;AACd,gBAAI,OAAO,IAAP,CADU;AAEd,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,+CAApB,EAAqE,IAArE,CAA0E,UAAS,UAAT,EAAqB;AACpG,mBAAK,UAAL,GAAkB,UAAlB,CADoG;AAEpG,gBAAE,OAAF,CAAU,UAAV,EAAsB,UAAS,CAAT,EAAY;AAChC,qBAAK,aAAL,CAAmB,IAAnB,CAAwB,EAAE,EAAF,CAAxB,CADgC;AAEhC,kBAAE,OAAF,CAAU,EAAE,IAAF,EAAQ,UAAS,CAAT,EAAY;AAC5B,sBAAI,EAAE,KAAK,KAAK,eAAL,CAAP,EAA8B;AAChC,yBAAK,eAAL,CAAqB,CAArB,IAA0B,EAA1B,CADgC;mBAAlC;AAGA,uBAAK,eAAL,CAAqB,CAArB,EAAwB,IAAxB,CAA6B,CAA7B,EAJ4B;iBAAZ,CAAlB,CAFgC;eAAZ,CAAtB,CAFoG;AAWpG,mBAAK,iBAAL,GAAyB,EAAC,eAAe,KAAK,aAAL,EAAoB,gBAAgB,EAAhB,EAA7D,CAXoG;aAArB,CAAjF,CAFc;;;;yCAiBD,SAAS;AACtB,gBAAI,OAAO,IAAP,CADkB;AAEtB,gBAAI,CAAC,OAAD,EAAU;AACZ,qBAAO,CAAP,CADY;aAAd;AAGA,gBAAI,MAAM,EAAN,CALkB;AAMtB,cAAE,OAAF,CAAU,QAAQ,aAAR,EAAuB,UAAS,EAAT,EAAa;AAC5C,kBAAI,EAAJ,IAAU,IAAV,CAD4C;aAAb,CAAjC,CANsB;AAStB,cAAE,OAAF,CAAU,QAAQ,cAAR,EAAwB,UAAS,CAAT,EAAY;AAC5C,gBAAE,OAAF,CAAU,KAAK,eAAL,CAAqB,CAArB,CAAV,EAAmC,UAAS,CAAT,EAAY;AAC7C,oBAAI,EAAE,EAAF,CAAJ,GAAY,IAAZ,CAD6C;eAAZ,CAAnC,CAD4C;aAAZ,CAAlC,CATsB;AActB,mBAAO,OAAO,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAde;;;;4CAiBN;AAChB,gBAAI,OAAO,IAAP,CADY;AAEhB,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,kDAApB,EAAwE,IAAxE,CAA6E,UAAS,KAAT,EAAgB;AAClG,kBAAI,WAAW,EAAX,CAD8F;AAElG,gBAAE,OAAF,CAAU,KAAV,EAAiB,UAAS,IAAT,EAAe;AAC9B,yBAAS,KAAK,EAAL,CAAT,GAAoB,IAApB,CAD8B;AAE9B,qBAAK,qBAAL,CAA2B,KAAK,IAAL,CAAU,WAAV,EAA3B,IAAsD,IAAtD,CAF8B;AAG9B,qBAAK,iBAAL,CAAuB,IAAvB,EAH8B;eAAf,CAAjB,CAFkG;AAOlG,mBAAK,aAAL,GAAqB,QAArB,CAPkG;aAAhB,CAApF,CAFgB;;;;4CAaA,MAAM;AACtB,gBAAI,OAAO,IAAP,CADkB;AAEtB,gBAAI,EAAE,KAAK,IAAL,CAAU,WAAV,MAA2B,KAAK,QAAL,CAA7B,EAA6C;AAC/C,kBAAI,WAAW,EAAX,CAD2C;AAE/C,gBAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,oBAAI,MAAM,QAAQ,aAAR,CAD+B;AAEzC,oBAAI,KAAK,QAAL,KAAkB,QAAQ,QAAR,KAAqB,MAArB,IAA+B,QAAQ,QAAR,KAAqB,MAArB,IAA+B,QAAQ,QAAR,KAAqB,UAArB,CAAhF,EAAkH;AACpH,wBAAM,KAAK,QAAL,CAAc,IAAd,IAAsB,EAAtB,CAD8G;iBAAtH;AAGA,yBAAS,IAAT,CAAc,EAAC,UAAU,QAAQ,QAAR,EAAkB,OAAO,GAAP,EAA3C,EALyC;eAAlB,CAAzB,CAF+C;AAS/C,mBAAK,QAAL,CAAc,KAAK,IAAL,CAAU,WAAV,EAAd,IAAyC;AACvC,oBAAI,IAAJ;AACA,6BAAa,IAAb;AACA,iCAAiB,KAAK,EAAL;AACjB,+BAAe,KAAK,iBAAL,CAAuB,aAAvB;AACf,gCAAgB,KAAK,iBAAL,CAAuB,cAAvB;AAChB,0BAAU,QAAV;AACA,yBAAS,KAAT;AACA,2BAAW,EAAX;AACA,iCAAiB;AACf,yBAAO,CAAP;AACA,kCAAgB,CAAhB;AACA,iCAAe;AACb,6BAAS,KAAT;AACA,+BAAW,EAAX;mBAFF;iBAHF;eATF,CAT+C;aAAjD;;;;mDA8BuB,aAAa,UAAU;AAC9C,gBAAI,IAAI,IAAJ,CAD0C;AAE9C,gBAAI,OAAO,KAAK,qBAAL,CAA2B,WAA3B,CAAP,CAF0C;AAG9C,cAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,kBAAI,QAAQ,QAAR,KAAqB,QAArB,EAA+B;AACjC,oBAAI,OAAJ,CADiC;eAAnC;aADuB,CAAzB,CAH8C;AAQ9C,mBAAO,CAAP,CAR8C;;;;mDAWvB,SAAS,UAAU;AAC1C,gBAAI,IAAI;AACN,0BAAY,QAAZ;AACA,uBAAS,IAAT;aAFE,CADsC;AAK1C,gBAAI,QAAQ,KAAR,CALsC;AAM1C,cAAE,OAAF,CAAU,QAAQ,QAAR,EAAkB,UAAS,OAAT,EAAkB;AAC5C,kBAAI,KAAJ,EAAW;AACT,uBADS;eAAX;AAGA,kBAAI,QAAQ,QAAR,KAAqB,QAArB,EAA+B;AACjC,oBAAI,OAAJ,CADiC;AAEjC,wBAAQ,IAAR,CAFiC;eAAnC;aAJ0B,CAA5B,CAN0C;AAe1C,gBAAI,CAAE,KAAF,EAAS;AACX,sBAAQ,QAAR,CAAiB,IAAjB,CAAsB,CAAtB,EADW;aAAb;AAGA,gBAAI,EAAE,KAAF,KAAY,IAAZ,EAAkB;AACpB,kBAAI,OAAO,KAAK,aAAL,CAAmB,QAAQ,eAAR,CAA1B,CADgB;AAEpB,gBAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,oBAAI,QAAQ,QAAR,KAAqB,QAArB,EAA+B;AACjC,oBAAE,KAAF,GAAU,QAAQ,aAAR,CADuB;iBAAnC;eADuB,CAAzB,CAFoB;aAAtB;;AASA,mBAAO,CAAP,CA3B0C;;;;kCA8BpC;AACN,gBAAI,OAAO,IAAP,CADE;AAEN,iBAAK,UAAL,GAAkB,KAAlB,CAFM;AAGN,iBAAK,mBAAL,GAA2B,KAA3B,CAHM;AAIN,iBAAK,cAAL,GAAsB,KAAtB,CAJM;AAKN,iBAAK,UAAL,GAAkB,KAAlB;;AALM,gBAON,CAAK,QAAL,GAAgB,EAAhB,CAPM;AAQN,cAAE,OAAF,CAAU,KAAK,aAAL,EAAoB,UAAS,IAAT,EAAe;AAC3C,mBAAK,iBAAL,CAAuB,IAAvB,EAD2C;aAAf,CAA9B,CARM;;;;mCAaC;AACP,iBAAK,KAAL,GADO;AAEP,iBAAK,aAAL,GAAqB,IAArB,CAFO;AAGP,mBAAO,OAAP,CAAe,IAAf,GAHO;;;;yCAMM;AACb,gBAAI,OAAO,IAAP,CADS;AAEb,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,8CAApB,EAAoE,IAApE,CAAyE,UAAS,SAAT,EAAoB;AAClG,mBAAK,SAAL,GAAiB,SAAjB,CADkG;aAApB,CAAhF,CAFa;;;;sCAOH,UAAU;AACpB,gBAAI,OAAO,IAAP,CADgB;AAEpB,gBAAI,KAAK,SAAS,QAAT,CAAL,CAFgB;AAGpB,cAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAS,QAAT,EAAmB;AAC3C,kBAAI,SAAS,EAAT,KAAgB,EAAhB,EAAoB;AACtB,qBAAK,QAAL,GAAgB,QAAhB,CADsB;AAEtB,qBAAK,eAAL,GAAuB,SAAS,IAAT;;AAFD,oBAItB,CAAK,UAAL,CAAgB,GAAhB,CAAoB,6DAA2D,EAA3D,CAApB,CAAmF,IAAnF,CAAwF,UAAS,QAAT,EAAmB;AACzG,oBAAE,OAAF,CAAU,QAAV,EAAoB,UAAS,OAAT,EAAkB;AACpC,wBAAI,OAAO,KAAK,aAAL,CAAmB,QAAQ,eAAR,CAAnB,CAA4C,IAA5C,CAAiD,WAAjD,EAAP,CADgC;AAEpC,wBAAI,QAAQ,KAAK,QAAL,EAAe;AACzB,wBAAE,MAAF,CAAS,KAAK,QAAL,CAAc,IAAd,CAAT,EAA8B,OAA9B,EADyB;qBAA3B,MAEO;AACL,2BAAK,QAAL,CAAc,IAAd,IAAsB,OAAtB,CADK;qBAFP;AAKA,yBAAK,gBAAL,CAAsB,QAAQ,EAAR,CAAtB,GAAoC,EAAE,SAAF,CAAY,OAAZ,CAApC,CAPoC;mBAAlB,CAApB,CADyG;AAUzG,uBAAK,SAAL,GAAiB,IAAjB,CAVyG;iBAAnB,CAAxF,CAJsB;eAAxB;aADwB,CAA1B,CAHoB;;;;sCAwBV,IAAI;AACd,iBAAK,SAAL,CAAe,GAAf,CAAmB,yDAAuD,EAAvD,CAAnB,CADc;;;;iCAIT,UAAU;AACf,gBAAI,OAAO,IAAP,CADW;AAEf,iBAAK,UAAL,CAAgB,MAAhB,CAAuB,kDAAkD,SAAS,EAAT,CAAzE,CAAsF,IAAtF,CAA2F,YAAW;AACpG,mBAAK,SAAL,CAAe,IAAf,CAAoB,sCAApB,EADoG;aAAX,CAA3F,CAFe;;;;wCAOH,KAAK;AACjB,gBAAI,OAAO,IAAP,CADa;AAEjB,gBAAI,OAAO,KAAK,aAAL,CAAmB,IAAI,eAAJ,CAA1B,CAFa;AAGjB,iBAAK,UAAL,CAAgB,MAAhB,CAAuB,iDAAiD,IAAI,EAAJ,CAAxE,CAAgF,IAAhF,CAAqF,YAAW;AAC9F,mBAAK,iBAAL,CAAuB,KAAK,IAAL,CAAU,WAAV,EAAvB,EAD8F;AAE9F,qBAAO,KAAK,gBAAL,CAAsB,IAAI,EAAJ,CAA7B,CAF8F;aAAX,CAArF,CAHiB;;;;2CASF;AACf,iBAAK,QAAL,CAAc,IAAd,GAAqB,KAAK,eAAL,CADN;AAEf,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,8CAArB,EAAqE,KAAK,QAAL,CAArE,CAFe;;;;+BAKZ,UAAU;AACb,gBAAI,OAAO,IAAP,CADS;AAEb,gBAAI,WAAW,EAAX,CAFS;AAGb,cAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,sBAAQ,WAAR,GAAsB,KAAK,QAAL,CAAc,EAAd,CADmB;AAEzC,kBAAI,QAAQ,EAAR,EAAY;AACd,oBAAI,CAAC,QAAQ,MAAR,CAAe,OAAf,EAAwB,KAAK,gBAAL,CAAsB,QAAQ,EAAR,CAA9C,CAAD,EAA6D;AAC/D,2BAAS,IAAT,CAAc,KAAK,aAAL,CAAmB,OAAnB,CAAd,EAD+D;iBAAjE;eADF,MAIO,IAAI,QAAQ,OAAR,EAAiB;AAC1B,yBAAS,IAAT,CAAc,KAAK,UAAL,CAAgB,OAAhB,CAAd,EAD0B;eAArB;aANgB,CAAzB,CAHa;;AAcb,qBAAS,IAAT,CAAc,KAAK,UAAL,CAAgB,IAAhB,CAAqB,8CAArB,EAAqE,KAAK,QAAL,CAAnF,EAda;AAeb,oBAAQ,GAAR,CAAY,QAAZ,EAAsB,IAAtB,CAA2B,YAAW;AACpC,kBAAI,QAAJ,EAAc;AACZ,qBAAK,SAAL,CAAe,IAAf,CAAoB,QAApB,EADY;eAAd,MAEO;AACL,qBAAK,SAAL,CAAe,IAAf,CAAoB,sCAApB,EADK;eAFP;aADyB,CAA3B,CAfa;;;;qCAwBJ,SAAS;AAClB,gBAAI,OAAO,IAAP,CADc;AAElB,oBAAQ,WAAR,GAAsB,KAAK,QAAL,CAAc,EAAd,CAFJ;AAGlB,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,6CAApB,EAAmE,OAAnE,EAA4E,IAA5E,EAAkF,IAAlF,CAAuF,UAAS,IAAT,EAAe;AAC3G,gBAAE,QAAF,CAAW,OAAX,EAAoB,IAApB,EAD2G;AAE3G,mBAAK,gBAAL,CAAsB,QAAQ,EAAR,CAAtB,GAAoC,EAAE,SAAF,CAAY,OAAZ,CAApC,CAF2G;AAG3G,kBAAI,SAAS,UAAT,CAHuG;AAI3G,kBAAI,QAAQ,OAAR,EAAiB;AACnB,yBAAS,SAAT,CADmB;eAArB;AAGA,kBAAI,OAAO,KAAK,aAAL,CAAmB,KAAK,eAAL,CAA1B,CAPuG;AAQ3G,kBAAI,UAAU,KAAK,IAAL,CAAU,WAAV,KAA0B,GAA1B,GAAgC,MAAhC,GAAyC,eAAzC,CAR6F;AAS3G,mBAAK,QAAL,CAAc,GAAd,CAAkB,OAAlB,EAA2B,EAA3B,EAA+B,SAA/B,EAA0C,IAA1C,EAT2G;aAAf,CAA9F,CAHkB;;;;wCAgBN,SAAS;AACrB,gBAAI,OAAO,IAAP,CADiB;AAErB,gBAAI,CAAC,QAAQ,EAAR,EAAY;AACf,qBAAO,KAAK,UAAL,CAAgB,OAAhB,CAAP,CADe;aAAjB;;AAIA,mBAAO,KAAK,UAAL,CAAgB,IAAhB,CAAqB,6CAArB,EAAoE,OAApE,EAA6E,IAA7E,EAAmF,IAAnF,CAAwF,YAAW;AACxG,kBAAI,OAAO,KAAK,aAAL,CAAmB,QAAQ,eAAR,CAA1B,CADoG;AAExG,kBAAI,UAAU,KAAK,IAAL,CAAU,WAAV,KAA0B,UAA1B,CAF0F;AAGxG,kBAAI,KAAK,gBAAL,CAAsB,QAAQ,EAAR,CAAtB,CAAkC,OAAlC,KAA8C,QAAQ,OAAR,EAAiB;AACjE,oBAAI,SAAS,UAAT,CAD6D;AAEjE,oBAAI,QAAQ,OAAR,EAAiB;AACnB,2BAAS,SAAT,CADmB;iBAArB;AAGA,0BAAU,KAAK,IAAL,CAAU,WAAV,KAA0B,GAA1B,GAAgC,MAAhC,GAAyC,eAAzC,CALuD;eAAnE;;AAQA,mBAAK,gBAAL,CAAsB,QAAQ,EAAR,CAAtB,GAAoC,EAAE,SAAF,CAAY,OAAZ,CAApC,CAXwG;AAYxG,mBAAK,QAAL,CAAc,GAAd,CAAkB,OAAlB,EAA2B,EAA3B,EAA+B,SAA/B,EAA0C,IAA1C,EAZwG;aAAX,CAA/F,CANqB;;;;2CAsBN,SAAS;AACxB,gBAAI,OAAO,IAAP,CADoB;AAExB,gBAAI,WAAW;AACb,2BAAa,CAAb;AACA,+BAAiB,CAAjB;AACA,6BAAe,KAAK,iBAAL,CAAuB,aAAvB;AACf,8BAAgB,KAAK,iBAAL,CAAuB,cAAvB;AAChB,wBAAU,EAAV;AACA,uBAAS,IAAT;AACA,yBAAW,EAAX;AACA,+BAAiB;AACf,uBAAO,CAAP;AACA,gCAAgB,CAAhB;AACA,+BAAe;AACb,2BAAS,KAAT;AACA,6BAAW,EAAX;iBAFF;eAHF;aARE,CAFoB;AAmBxB,cAAE,OAAF,CAAU,OAAV,EAAmB,UAAS,UAAT,EAAqB;AACtC,gBAAE,QAAF,CAAW,UAAX,EAAuB,QAAvB,EADsC;AAEtC,kBAAI,OAAO,KAAK,aAAL,CAAmB,WAAW,eAAX,CAA1B,CAFkC;AAGtC,kBAAI,KAAK,IAAL,CAAU,OAAV,CAAkB,MAAlB,MAA8B,CAA9B,EAAiC;AACnC,2BAAW,SAAX,GAAuB,EAAvB,CADmC;eAArC;AAGA,mBAAK,QAAL,CAAc,KAAK,IAAL,CAAU,WAAV,EAAd,IAAyC,UAAzC,CANsC;aAArB,CAAnB,CAnBwB;;;;0CA6BV;AACd,iBAAK,mBAAL,GAA2B,KAA3B,CADc;AAEd,iBAAK,UAAL,GAAkB,IAAlB,CAFc;AAGd,iBAAK,cAAL,GAAsB,KAAtB,CAHc;;;;mCAMP,UAAU;AACjB,gBAAI,OAAO,IAAP,CADa;AAEjB,iBAAK,mBAAL,GAA2B,IAA3B,CAFiB;AAGjB,iBAAK,cAAL,GAAsB,KAAtB,CAHiB;AAIjB,iBAAK,UAAL,CAAgB,GAAhB,CAAoB,uDAApB,EAA6E,QAA7E,EAAuF,IAAvF,CAA4F,UAAS,IAAT,EAAe;AACzG,kBAAI,CAAC,KAAK,UAAL,EAAiB;AACpB,oBAAI,SAAS,IAAT,CAAc,OAAd,CAAsB,KAAtB,IAA+B,CAAC,CAAD,EAAI;;AAErC,sBAAI,SAAS,SAAS,aAAT,CAAuB,GAAvB,CAAT,CAFiC;AAGrC,yBAAO,IAAP,GAAc,SAAS,IAAT,CAHuB;AAIrC,2BAAS,IAAT,GAAgB,OAAO,QAAP,CAJqB;iBAAvC;AAMA,qBAAK,UAAL,GAAkB,IAAlB,CAPoB;AAQpB,qBAAK,UAAL,GAAkB,IAAlB,CARoB;AASpB,qBAAK,gBAAL,CAAsB,IAAtB,EAToB;eAAtB;aAD0F,EAYzF,YAAW;AACZ,mBAAK,cAAL,GAAsB,8BAAtB,CADY;aAAX,CAZH,CAcG,OAdH,CAcW,YAAW;AACpB,mBAAK,mBAAL,GAA2B,KAA3B,CADoB;aAAX,CAdX,CAJiB;;;;wCAuBL;AACZ,gBAAI,OAAO,IAAP,CADQ;AAEZ,gBAAI,KAAK,QAAL,CAAc,EAAd,EAAkB;AACpB,qBAAO,KAAK,cAAL,EAAP,CADoB;aAAtB;;AAIA,gBAAI,UAAU,KAAK,QAAL,CANF;AAOZ,oBAAQ,QAAR,GAAmB,EAAnB,CAPY;AAQZ,cAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,sBAAQ,WAAR,GAAsB,CAAC,CAAD,CADmB;AAEzC,sBAAQ,QAAR,CAAiB,IAAjB,CAAsB,OAAtB,EAFyC;aAAlB,CAAzB,CARY;AAYZ,iBAAK,UAAL,CAAgB,GAAhB,CAAoB,8CAApB,EAAoE,OAApE,EAA6E,IAA7E,CAAkF,UAAS,IAAT,EAAe;AAC/F,mBAAK,QAAL,GAAgB,IAAhB,CAD+F;AAE/F,mBAAK,aAAL,GAAqB,IAArB,CAF+F;AAG/F,mBAAK,QAAL,CAAc,GAAd,CAAkB,gBAAlB,EAAoC,EAApC,EAAwC,SAAxC,EAAmD,IAAnD,EAH+F;AAI/F,mBAAK,SAAL,CAAe,IAAf,CAAoB,iCAA+B,KAAK,EAAL,CAAnD,CAJ+F;aAAf,CAAlF,CAZY;;;;2CAoBG;AACf,gBAAI,OAAO,IAAP,CADW;AAEf,gBAAI,UAAU,KAAV,CAFW;AAGf,cAAE,OAAF,CAAU,KAAK,QAAL,EAAe,UAAS,OAAT,EAAkB;AACzC,kBAAI,QAAQ,EAAR,KAAe,IAAf,EAAqB;AACvB,uBADuB;eAAzB;AAGA,kBAAI,CAAC,QAAQ,MAAR,CAAe,OAAf,EAAwB,KAAK,gBAAL,CAAsB,QAAQ,EAAR,CAA9C,CAAD,EAA6D;AAC/D,0BAAU,IAAV,CAD+D;eAAjE;aAJuB,CAAzB,CAHe;AAWf,mBAAO,OAAP,CAXe;;;;wCAcH,UAAU,MAAM;AAC5B,gBAAI,OAAO,IAAP,CADwB;AAE5B,gBAAI,CAAC,IAAD,EAAO;AACT,qBAAO,SAAP,CADS;aAAX;AAGA,gBAAI,SAAS;AACX,+BAAiB,KAAjB;AACA,8BAAgB,KAAK,QAAL,CAAc,IAAd;aAFd,CALwB;AAS5B,oBAAO,IAAP;AACE,mBAAK,SAAL;AACE,qBAAK,SAAL,CAAe,IAAf,CAAoB,0CAApB,EAAgE,MAAhE,CAAuE,MAAvE,EADF;AAEE,sBAFF;AADF,mBAIO,MAAL;AACE,qBAAK,SAAL,CAAe,IAAf,CAAoB,uCAApB,EAA6D,MAA7D,CAAoE,MAApE,EADF;AAEE,sBAFF;AAJF,mBAOO,KAAL;AACE,qBAAK,SAAL,CAAe,IAAf,CAAoB,sCAApB,EAA4D,MAA5D,CAAmE,MAAnE,EADF;AAEE,sBAFF;AAPF,mBAUO,MAAL;AACE,uBAAO,cAAP,IAAyB,MAAzB,CADF;AAEE,qBAAK,SAAL,CAAe,IAAf,CAAoB,sCAApB,EAA4D,MAA5D,CAAmE,MAAnE,EAFF;AAGE,sBAHF;AAVF,mBAcO,OAAL;AACE,uBAAO,cAAP,IAAyB,OAAzB,CADF;AAEE,qBAAK,SAAL,CAAe,IAAf,CAAoB,sCAApB,EAA4D,MAA5D,CAAmE,MAAnE,EAFF;AAGE,sBAHF;AAdF;AAmBI,qBAAK,SAAL,CAAe,IAAf,CAAoB,0CAApB,EAAgE,MAAhE,CAAuE,MAAvE,EADF;AAEE,sBAFF;AAlBF,aAT4B;;;;eAzc1B;;;AA2eN,yBAAmB,WAAnB,GAAiC,gFAAjC;;oCAEQ","file":"endpoint_config.js","sourcesContent":["import _ from 'lodash';\n\nclass EndpointConfigCtrl {\n   /** @ngInject */\n  constructor($scope, $injector, $location, $modal, $anchorScroll, $timeout, $window, backendSrv, alertSrv) {\n    var self = this;\n    this.backendSrv = backendSrv;\n    this.$location = $location;\n    this.alertSrv = alertSrv;\n    this.pageReady = false;\n\n    this.monitorLastState = {};\n\n    this.frequencyOpts = [];\n    var freqOpt = [10, 30, 60, 120];\n    _.forEach(freqOpt, function(f) {\n      self.frequencyOpts.push({value: f, label: \"Every \"+f+\"s\"});\n    });\n\n    this.timeoutRegex = /^([1-9](\\.\\d)?|10)$/;\n    this.editor = {index: 0};\n    this.newEndpointName = \"\";\n    this.endpoints = [];\n    this.monitors = {};\n    this.monitor_types = {};\n    this.monitor_types_by_name = {};\n    this.allCollectors = [];\n    this.collectorsOption = {selection: \"all\"};\n    this.collectorsByTag = {};\n    this.global_collectors = {collector_ids: [], collector_tags: []};\n    this.ignoreChanges = false;\n    this.originalState = {};\n\n    var promises = [];\n    if (\"endpoint\" in $location.search()) {\n      promises.push(this.getEndpoints().then(function() {\n        return self.getEndpoint($location.search().endpoint);\n      }));\n    } else {\n      this.endpoint = {name: \"\"};\n    }\n\n    this.checks = {};\n\n    promises.push(this.getCollectors());\n    promises.push(this.getMonitorTypes());\n    Promise.all(promises).then(function() {\n      self.pageReady = true;\n      self.reset();\n      $timeout(function() {\n        $anchorScroll();\n      }, 0, false);\n    });\n\n    if ($location.search().check) {\n      switch($location.search().check) {\n      case \"ping\":\n        self.showPing = true;\n        break;\n      case \"dns\":\n        self.showDNS = true;\n        break;\n      case \"http\":\n        self.showHTTP = true;\n        break;\n      case \"https\":\n        self.showHTTPS = true;\n        break;\n      }\n    }\n\n    $window.onbeforeunload = function() {\n      if (self.ignoreChanges) { return; }\n      if (self.changesPending()) {\n        return \"There are unsaved changes to this dashboard\";\n      }\n    };\n\n    $scope.$on('$locationChangeStart', function(event, next) {\n      if ((!self.ignoreChanges) && (self.changesPending())) {\n        event.preventDefault();\n        var baseLen = $location.absUrl().length - $location.url().length;\n        var nextUrl = next.substring(baseLen);\n        var modalScope = $scope.$new();\n        modalScope.ignore = function() {\n          self.ignoreChanges = true;\n          $location.path(nextUrl);\n          return;\n        };\n\n        modalScope.save = function() {\n          self.save(nextUrl);\n        };\n\n        var confirmModal = $modal({\n          template: './app/partials/unsaved-changes.html',\n          modalClass: 'modal-no-header confirm-modal',\n          persist: false,\n          show: false,\n          scope: modalScope,\n          keyboard: false\n        });\n\n        Promise.resolve(confirmModal).then(function(modalEl) {\n          modalEl.modal('show');\n        });\n      }\n    });\n  }\n\n  getCollectors() {\n    var self = this;\n    return this.backendSrv.get('api/plugin-proxy/worldping-app/api/collectors').then(function(collectors) {\n      self.collectors = collectors;\n      _.forEach(collectors, function(c) {\n        self.allCollectors.push(c.id);\n        _.forEach(c.tags, function(t) {\n          if (!(t in self.collectorsByTag)) {\n            self.collectorsByTag[t] = [];\n          }\n          self.collectorsByTag[t].push(c);\n        });\n      });\n      self.global_collectors = {collector_ids: self.allCollectors, collector_tags: []};\n    });\n  }\n\n  collectorCount(monitor) {\n    var self = this;\n    if (!monitor) {\n      return 0;\n    }\n    var ids = {};\n    _.forEach(monitor.collector_ids, function(id) {\n      ids[id] = true;\n    });\n    _.forEach(monitor.collector_tags, function(t) {\n      _.forEach(self.collectorsByTag[t], function(c) {\n        ids[c.id] = true;\n      });\n    });\n    return Object.keys(ids).length;\n  }\n\n  getMonitorTypes() {\n    var self = this;\n    return this.backendSrv.get('api/plugin-proxy/worldping-app/api/monitor_types').then(function(types) {\n      var typesMap = {};\n      _.forEach(types, function(type) {\n        typesMap[type.id] = type;\n        self.monitor_types_by_name[type.name.toLowerCase()] = type;\n        self.setDefaultMonitor(type);\n      });\n      self.monitor_types = typesMap;\n    });\n  }\n\n  setDefaultMonitor(type) {\n    var self = this;\n    if (!(type.name.toLowerCase() in this.monitors)) {\n      var settings = [];\n      _.forEach(type.settings, function(setting) {\n        var val = setting.default_value;\n        if (self.endpoint && (setting.variable === \"host\" || setting.variable === \"name\" || setting.variable === \"hostname\")) {\n          val = self.endpoint.name || \"\";\n        }\n        settings.push({variable: setting.variable, value: val});\n      });\n      self.monitors[type.name.toLowerCase()] = {\n        id: null,\n        endpoint_id: null,\n        monitor_type_id: type.id,\n        collector_ids: self.global_collectors.collector_ids,\n        collector_tags: self.global_collectors.collector_tags,\n        settings: settings,\n        enabled: false,\n        frequency: 10,\n        health_settings: {\n          steps: 3,\n          num_collectors: 3,\n          notifications: {\n            enabled: false,\n            addresses: \"\"\n          }\n        }\n      };\n    }\n  }\n\n  defaultSettingByVariable(monitorType, variable) {\n    var s = null;\n    var type = this.monitor_types_by_name[monitorType];\n    _.forEach(type.settings, function(setting) {\n      if (setting.variable === variable) {\n        s = setting;\n      }\n    });\n    return s;\n  }\n\n  currentSettingByVariable(monitor, variable) {\n    var s = {\n      \"variable\": variable,\n      \"value\": null\n    };\n    var found = false;\n    _.forEach(monitor.settings, function(setting) {\n      if (found) {\n        return;\n      }\n      if (setting.variable === variable) {\n        s = setting;\n        found = true;\n      }\n    });\n    if (! found) {\n      monitor.settings.push(s);\n    }\n    if (s.value === null) {\n      var type = this.monitor_types[monitor.monitor_type_id];\n      _.forEach(type.settings, function(setting) {\n        if (setting.variable === variable) {\n          s.value = setting.default_value;\n        }\n      });\n    }\n\n    return s;\n  }\n\n  reset() {\n    var self = this;\n    this.discovered = false;\n    this.discoveryInProgress = false;\n    this.discoveryError = false;\n    this.showConfig = false;\n    // $scope.endpoint.name = {\"name\": \"\"};\n    this.monitors = {};\n    _.forEach(self.monitor_types, function(type) {\n      self.setDefaultMonitor(type);\n    });\n  }\n\n  cancel() {\n    this.reset();\n    this.ignoreChanges = true;\n    window.history.back();\n  }\n\n  getEndpoints() {\n    var self = this;\n    return this.backendSrv.get('api/plugin-proxy/worldping-app/api/endpoints').then(function(endpoints) {\n      self.endpoints = endpoints;\n    });\n  }\n\n  getEndpoint(idString) {\n    var self = this;\n    var id = parseInt(idString);\n    _.forEach(this.endpoints, function(endpoint) {\n      if (endpoint.id === id) {\n        self.endpoint = endpoint;\n        self.newEndpointName = endpoint.name;\n        //get monitors for this endpoint.\n        self.backendSrv.get('api/plugin-proxy/worldping-app/api/monitors?endpoint_id='+id).then(function(monitors) {\n          _.forEach(monitors, function(monitor) {\n            var type = self.monitor_types[monitor.monitor_type_id].name.toLowerCase();\n            if (type in self.monitors) {\n              _.assign(self.monitors[type], monitor);\n            } else {\n              self.monitors[type] = monitor;\n            }\n            self.monitorLastState[monitor.id] = _.cloneDeep(monitor);\n          });\n          self.pageReady = true;\n        });\n      }\n    });\n  }\n\n  setEndpoint(id) {\n    this.$location.url('plugins/worldping-app/page/endpoint-config?endpoint='+id);\n  }\n\n  remove(endpoint) {\n    var self = this;\n    this.backendSrv.delete('api/plugin-proxy/worldping-app/api/endpoints/' + endpoint.id).then(function() {\n      self.$location.path('plugins/worldping-app/page/endpoints');\n    });\n  }\n\n  removeMonitor(mon) {\n    var self = this;\n    var type = this.monitor_types[mon.monitor_type_id];\n    this.backendSrv.delete('api/plugin-proxy/worldping-app/api/monitors/' + mon.id).then(function() {\n      self.setDefaultMonitor(type.name.toLowerCase());\n      delete self.monitorLastState[mon.id];\n    });\n  }\n\n  updateEndpoint() {\n    this.endpoint.name = this.newEndpointName;\n    this.backendSrv.post('api/plugin-proxy/worldping-app/api/endpoints', this.endpoint);\n  }\n\n  save(location) {\n    var self = this;\n    var promises = [];\n    _.forEach(this.monitors, function(monitor) {\n      monitor.endpoint_id = self.endpoint.id;\n      if (monitor.id) {\n        if (!angular.equals(monitor, self.monitorLastState[monitor.id])) {\n          promises.push(self.updateMonitor(monitor));\n        }\n      } else if (monitor.enabled) {\n        promises.push(self.addMonitor(monitor));\n      }\n    });\n\n    promises.push(self.backendSrv.post('api/plugin-proxy/worldping-app/api/endpoints', self.endpoint));\n    Promise.all(promises).then(function() {\n      if (location) {\n        self.$location.path(location);\n      } else {\n        self.$location.path(\"plugins/worldping-app/page/endpoints\");\n      }\n    });\n  }\n\n  addMonitor(monitor) {\n    var self = this;\n    monitor.endpoint_id = this.endpoint.id;\n    return this.backendSrv.put('api/plugin-proxy/worldping-app/api/monitors', monitor, true).then(function(resp) {\n      _.defaults(monitor, resp);\n      self.monitorLastState[monitor.id] = _.cloneDeep(monitor);\n      var action = \"disabled\";\n      if (monitor.enabled) {\n        action = \"enabled\";\n      }\n      var type = self.monitor_types[resp.monitor_type_id];\n      var message = type.name.toLowerCase() + \" \" + action + \" successfully\";\n      self.alertSrv.set(message, '', 'success', 3000);\n    });\n  }\n\n  updateMonitor(monitor) {\n    var self = this;\n    if (!monitor.id) {\n      return this.addMonitor(monitor);\n    }\n\n    return this.backendSrv.post('api/plugin-proxy/worldping-app/api/monitors', monitor, true).then(function() {\n      var type = self.monitor_types[monitor.monitor_type_id];\n      var message = type.name.toLowerCase() + \" updated\";\n      if (self.monitorLastState[monitor.id].enabled !== monitor.enabled) {\n        var action = \"disabled\";\n        if (monitor.enabled) {\n          action = \"enabled\";\n        }\n        message = type.name.toLowerCase() + \" \" + action + \" successfully\";\n      }\n\n      self.monitorLastState[monitor.id] = _.cloneDeep(monitor);\n      self.alertSrv.set(message, '', 'success', 3000);\n    });\n  }\n\n  parseSuggestions(payload) {\n    var self = this;\n    var defaults = {\n      endpoint_id: 0,\n      monitor_type_id: 1,\n      collector_ids: this.global_collectors.collector_ids,\n      collector_tags: this.global_collectors.collector_tags,\n      settings: [],\n      enabled: true,\n      frequency: 60,\n      health_settings: {\n        steps: 3,\n        num_collectors: 3,\n        notifications: {\n          enabled: false,\n          addresses: \"\"\n        }\n      }\n    };\n    _.forEach(payload, function(suggestion) {\n      _.defaults(suggestion, defaults);\n      var type = self.monitor_types[suggestion.monitor_type_id];\n      if (type.name.indexOf(\"Ping\") === 0) {\n        suggestion.frequency = 10;\n      }\n      self.monitors[type.name.toLowerCase()] = suggestion;\n    });\n  }\n\n  skipDiscovery() {\n    this.discoveryInProgress = false;\n    this.showConfig = true;\n    this.discoveryError = false;\n  };\n\n  discover(endpoint) {\n    var self = this;\n    this.discoveryInProgress = true;\n    this.discoveryError = false;\n    this.backendSrv.get('api/plugin-proxy/worldping-app/api/endpoints/discover', endpoint).then(function(resp) {\n      if (!self.showConfig) {\n        if (endpoint.name.indexOf(\"://\") > -1) {\n          //endpoint name is in the form scheme://domain\n          var parser = document.createElement('a');\n          parser.href = endpoint.name;\n          endpoint.name = parser.hostname;\n        }\n        self.showConfig = true;\n        self.discovered = true;\n        self.parseSuggestions(resp);\n      }\n    }, function() {\n      self.discoveryError = \"Failed to discover endpoint.\";\n    }).finally(function() {\n      self.discoveryInProgress = false;\n    });\n  }\n\n  addEndpoint() {\n    var self = this;\n    if (this.endpoint.id) {\n      return this.updateEndpoint();\n    }\n\n    var payload = this.endpoint;\n    payload.monitors = [];\n    _.forEach(this.monitors, function(monitor) {\n      monitor.endpoint_id = -1;\n      payload.monitors.push(monitor);\n    });\n    this.backendSrv.put('api/plugin-proxy/worldping-app/api/endpoints', payload).then(function(resp) {\n      self.endpoint = resp;\n      self.ignoreChanges = true;\n      self.alertSrv.set(\"endpoint added\", '', 'success', 3000);\n      self.$location.path(\"worldping/endpoints/summary/\"+resp.id);\n    });\n  }\n\n  changesPending() {\n    var self = this;\n    var changes = false;\n    _.forEach(this.monitors, function(monitor) {\n      if (monitor.id === null) {\n        return;\n      }\n      if (!angular.equals(monitor, self.monitorLastState[monitor.id])) {\n        changes = true;\n      }\n    });\n    return changes;\n  }\n\n  gotoDashboard(endpoint, type) {\n    var self = this;\n    if (!type) {\n      type = 'summary';\n    }\n    var search = {\n      \"var-collector\": \"All\",\n      \"var-endpoint\": this.endpoint.slug\n    };\n    switch(type) {\n      case \"summary\":\n        self.$location.path(\"/dashboard/db/worldping-endpoint-summary\").search(search);\n        break;\n      case \"ping\":\n        self.$location.path(\"/dashboard/db/worldping-endpoint-ping\").search(search);\n        break;\n      case \"dns\":\n        self.$location.path(\"/dashboard/db/worldping-endpoint-dns\").search(search);\n        break;\n      case \"http\":\n        search['var-protocol'] = \"http\";\n        self.$location.path(\"/dashboard/db/worldping-endpoint-web\").search(search);\n        break;\n      case \"https\":\n        search['var-protocol'] = \"https\";\n        self.$location.path(\"/dashboard/db/worldping-endpoint-web\").search(search);\n        break;\n      default:\n        self.$location.path(\"/dashboard/db/worldping-endpoint-summary\").search(search);\n        break;\n    }\n  }\n}\n\nEndpointConfigCtrl.templateUrl = 'public/plugins/worldping-app/components/endpoint/partials/endpoint_config.html';\n\nexport {EndpointConfigCtrl}"]}